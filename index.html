<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To: å°è² (è‡­å§å§)</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Ma+Shan+Zheng&family=Nunito:wght@400;600&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'love-bg': '#FDFBF7',   // å¥¶æ²¹ç™½èƒŒæ™¯
                        'love-pink': '#ECC8C5', // ç°ç²‰è‰²
                        'love-accent': '#D4878C', // å¼ºè°ƒè‰²
                        'text-main': '#4A4A4A', // ä¸»è¦æ–‡å­—è‰²
                    },
                    fontFamily: {
                        serif: ['"Noto Serif SC"', 'serif'],
                        hand: ['"Ma Shan Zheng"', 'cursive'],
                        sans: ['"Nunito"', 'sans-serif'],
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'fade-in': 'fadeIn 1.5s ease-out forwards',
                    }
                }
            }
        }
    </script>

    <style>
        /* === è‡ªå®šä¹‰åŠ¨ç”»ä¸æ ·å¼ === */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0px); }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* ç»ç’ƒæ‹Ÿæ€å¡ç‰‡æ•ˆæœ */
        .glass-card {
            background: rgba(255, 255, 255, 0.45);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 8px 32px 0 rgba(236, 200, 197, 0.2);
        }

        /* èƒŒæ™¯å…‰æ–‘ */
        .blob {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.6;
            z-index: -1;
        }
        
        /* æŒ‰é’®æ‚¬æµ®åŠ¨æ•ˆ */
        .love-btn {
            transition: all 0.3s ease;
        }
        .love-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(212, 135, 140, 0.3);
        }

        /* è‡ªå®šä¹‰æ»šåŠ¨æ¡ (ç”¨äºä¿¡ä»¶) */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1; 
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #ECC8C5; 
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #D4878C; 
        }
    </style>
</head>
<body class="bg-love-bg text-text-main font-sans min-h-screen relative overflow-x-hidden selection:bg-love-pink selection:text-white">

    <div class="blob bg-pink-200 w-96 h-96 top-0 left-0 -translate-x-1/2 -translate-y-1/2"></div>
    <div class="blob bg-yellow-100 w-80 h-80 bottom-0 right-0 translate-x-1/3 translate-y-1/3"></div>
    <div class="blob bg-purple-100 w-64 h-64 top-1/2 right-10 opacity-40"></div>

    <nav class="w-full p-6 flex justify-between items-center max-w-6xl mx-auto relative z-20">
        <div class="text-2xl font-hand text-love-accent tracking-widest">X & Me</div>
        <div class="px-4 py-1.5 rounded-full glass-card text-sm font-medium text-gray-500 flex items-center gap-2">
            <span class="w-2 h-2 rounded-full bg-green-400 animate-pulse"></span>
            æ”¶ä»¶äºº: è‡­å§å§ ğŸ¬
        </div>
    </nav>

    <main class="container mx-auto px-6 pt-8 pb-20 flex flex-col items-center justify-center text-center z-10 relative">
        
        <div class="text-6xl mb-6 animate-float cursor-pointer hover:scale-110 transition-transform duration-300" onclick="createHeart(event)">
            ğŸ’Œ
        </div>

        <div class="space-y-4 animate-fade-in">
            <p class="font-hand text-2xl text-love-accent transform -rotate-2">
                Hey, å°è²
            </p>
            <h1 class="font-serif text-4xl md:text-6xl font-bold text-gray-800 leading-tight">
                æŠŠé“¶æ²³æ‰ç¢<br>
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-love-accent to-pink-400">åªä¸ºå†™ç»™ä½ çœ‹</span>
            </h1>
            <p class="text-gray-500 mt-6 max-w-lg mx-auto text-lg font-light leading-relaxed">
                è™½ç„¶ä½ æœ‰æ—¶å€™å¾ˆå‡¶ï¼Œè¿˜æ˜¯ä¸ªâ€œè‡­å§å§â€ï¼Œ<br>
                ä½†ä¹Ÿæ˜¯æˆ‘å¿ƒå°–ä¸Šæœ€æŸ”è½¯çš„é‚£ä¸ª<b>å®è´</b>ã€‚
            </p>
        </div>

        <div class="grid md:grid-cols-2 gap-6 mt-12 w-full max-w-3xl opacity-0" style="animation: fadeIn 1.5s ease-out 0.5s forwards;">
            
            <div class="glass-card rounded-3xl p-8 hover:bg-white/60 transition-colors duration-500">
                <div class="flex justify-between items-start mb-4">
                    <i class="fa-regular fa-clock text-2xl text-love-accent"></i>
                    <span class="text-xs uppercase tracking-widest text-gray-400">Love Timer</span>
                </div>
                <div class="text-left">
                    <p class="text-sm text-gray-500 mb-1">æˆ‘ä»¬å·²ç»ç›¸é‡</p>
                    <h3 class="text-3xl font-serif font-bold text-gray-700">53 <span class="text-base font-normal">Days</span></h3>
                    <p class="text-xs text-love-accent mt-2 italic">æ¯ä¸€ç§’éƒ½å€¼å¾—æ”¶è—</p>
                </div>
            </div>

            <div class="glass-card rounded-3xl p-8 hover:bg-white/60 transition-colors duration-500 relative overflow-hidden group">
                <div class="absolute top-0 right-0 w-16 h-16 bg-pink-100 rounded-bl-full -mr-8 -mt-8 transition-all group-hover:scale-150"></div>
                <div class="flex justify-between items-start mb-4 relative z-10">
                    <i class="fa-solid fa-quote-left text-2xl text-love-accent"></i>
                    <span class="text-xs uppercase tracking-widest text-gray-400">To You</span>
                </div>
                <div class="text-left relative z-10">
                    <p class="font-serif text-lg text-gray-700 italic leading-relaxed">
                        "ä½ æ˜¯æˆ‘çš„ç§æœ‰æµªæ¼«ï¼Œä¹Ÿæ˜¯æˆ‘å¹³æ·¡ç”Ÿæ´»é‡Œçš„åˆºçœ¼æ˜Ÿå…‰ã€‚"
                    </p>
                    <p class="text-xs text-right mt-4 text-gray-400">- çˆ±ä½ çš„è‡­å¼Ÿå¼Ÿ</p>
                </div>
            </div>
        </div>

        <div class="mt-16 flex flex-col md:flex-row gap-4 opacity-0" style="animation: fadeIn 1.5s ease-out 0.8s forwards;">
            <button onclick="openModal('letter-modal')" class="love-btn bg-gradient-to-r from-love-accent to-pink-400 text-white px-10 py-4 rounded-full font-bold shadow-lg shadow-pink-200/50 flex items-center justify-center gap-2">
                <i class="fa-regular fa-envelope"></i>
                æŸ¥çœ‹å‘Šç™½ä¿¡
            </button>
            <button onclick="openModal('coupon-modal')" class="love-btn glass-card px-10 py-4 rounded-full font-bold text-gray-600 hover:text-love-accent flex items-center justify-center gap-2">
                <i class="fa-solid fa-ticket"></i>
                å…‘æ¢è´´è´´åˆ¸
            </button>
        </div>

    </main>

    <footer class="absolute bottom-4 w-full text-center text-xs text-gray-400 font-light z-10">
        Made with <i class="fa-solid fa-heart text-red-400 mx-1 animate-pulse"></i> for Xiao Fei
    </footer>

    <div id="letter-modal" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-gray-900/60 backdrop-blur-sm transition-opacity opacity-0" id="letter-overlay" onclick="closeModal('letter-modal')"></div>
        
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-11/12 max-w-2xl h-[80vh] bg-[#FDFBF7] rounded-xl shadow-2xl transform scale-95 opacity-0 transition-all duration-500 flex flex-col overflow-hidden" id="letter-content">
            <div class="absolute inset-0 opacity-40 pointer-events-none" style="background-image: url('https://www.transparenttextures.com/patterns/cream-paper.png');"></div>
            
            <button onclick="closeModal('letter-modal')" class="absolute top-4 right-4 text-gray-400 hover:text-love-accent z-10 transition-colors">
                <i class="fa-solid fa-xmark text-xl"></i>
            </button>

            <div class="overflow-y-auto p-8 md:p-12 custom-scrollbar relative z-0 h-full">
                <p class="font-hand text-xl text-gray-500 mb-8 text-right">2025.11.19</p>
                
                <h2 class="font-serif text-2xl font-bold text-gray-800 mb-6">è‡´æˆ‘äº²çˆ±çš„å°è²ï¼š</h2>
                
                <div class="font-serif text-lg text-gray-700 leading-loose space-y-6">
                    <p>å±•ä¿¡ä½³ã€‚</p>
                    <p>
                        å…¶å®æˆ‘å¹¶ä¸æ˜¯ä¸€ä¸ªç‰¹åˆ«æ“…é•¿è¡¨è¾¾çš„äººï¼Œå°¤å…¶æ˜¯åœ¨é¢å¯¹ä½ çš„æ—¶å€™ã€‚æœ‰æ—¶å€™æ•…æ„æƒ¹ä½ ç”Ÿæ°”ï¼Œå–Šä½ â€œè‡­å§å§â€ï¼Œå…¶å®æ˜¯å› ä¸ºçœ‹åˆ°ä½ ç‚¸æ¯›çš„æ ·å­è§‰å¾—ç‰¹åˆ«å¯çˆ±ï¼Œåˆæˆ–è€…ï¼Œåªæ˜¯æƒ³å¤šåšå–ä¸€ç‚¹ä½ çš„æ³¨æ„åŠ›ã€‚
                    </p>
                    <p>
                        æœ€è¿‘æˆ‘å¸¸åœ¨æƒ³ï¼Œä»€ä¹ˆæ˜¯æœ€å¥½çš„çˆ±å‘¢ï¼Ÿå¤§æ¦‚å°±æ˜¯ï¼Œå³ä½¿æˆ‘çœ‹è¿‡æ— æ•°é£æ™¯ï¼Œä¾ç„¶è§‰å¾—ä½ æ˜¯æˆ‘çœ¼ä¸­æœ€ç‹¬ç‰¹çš„è‰²å½©ã€‚
                    </p>
                    <p>
                        è°¢è°¢ä½ åŒ…å®¹æˆ‘çš„å°è„¾æ°”ï¼Œä¹Ÿè°¢è°¢ä½ æ„¿æ„åšæˆ‘çš„è½¯è‚‹å’Œé“ ç”²ã€‚æœªæ¥çš„è·¯è¿˜å¾ˆé•¿ï¼Œæˆ‘æƒ³ç‰µç€ä½ çš„æ‰‹ï¼Œä»æ¸…æ™¨åˆ°æ—¥æš®ï¼Œä»å¿ƒåŠ¨åˆ°å¤ç¨€ã€‚
                    </p>
                    <p>
                        è¿™å°ä¿¡å†™å¾—å¾ˆçŸ­ï¼Œä½†çˆ±æ„å¾ˆé•¿ã€‚
                    </p>
                </div>

                <div class="mt-12 text-right mb-8">
                    <p class="font-serif text-gray-600">æ°¸è¿œçˆ±ä½ çš„ï¼Œ</p>
                    <p class="font-hand text-3xl text-love-accent mt-2 transform -rotate-6 inline-block">è‡­å¼Ÿå¼Ÿ</p>
                </div>
            </div>
        </div>
    </div>

    <div id="coupon-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center">
        <div class="absolute inset-0 bg-gray-900/60 backdrop-blur-sm transition-opacity opacity-0" id="coupon-overlay" onclick="closeModal('coupon-modal')"></div>
        
        <div class="relative w-11/12 max-w-md bg-white rounded-2xl shadow-2xl transform scale-95 opacity-0 transition-all duration-500 overflow-hidden" id="coupon-content">
            <div class="h-3 bg-gradient-to-r from-love-pink to-love-accent"></div>
            
            <div class="p-8 text-center relative">
                <div class="absolute top-1/2 -left-3 w-6 h-6 bg-gray-800/60 backdrop-blur-sm rounded-full"></div> 
                <div class="absolute top-1/2 -right-3 w-6 h-6 bg-gray-800/60 backdrop-blur-sm rounded-full"></div>

                <h3 class="text-gray-400 text-xs tracking-[0.3em] uppercase mb-2">Exclusive Ticket</h3>
                <h2 class="font-serif text-3xl font-bold text-love-accent mb-2">æ— é™æœŸè´´è´´åˆ¸</h2>
                <p class="text-gray-500 text-sm mb-6">å‡­æ­¤åˆ¸å¯å…‘æ¢ "è‡­å¼Ÿå¼Ÿ" çš„è¶…çº§æ‹¥æŠ±ä¸€æ¬¡</p>
                
                <div class="w-full border-b-2 border-dashed border-gray-200 my-6 relative"></div>

                <div class="space-y-2 text-xs text-gray-400 mb-8">
                    <p>æœ‰æ•ˆæœŸï¼šæ°¸ä¹…æœ‰æ•ˆ</p>
                    <p>é€‚ç”¨èŒƒå›´ï¼šä»…é™å°è²ä½¿ç”¨</p>
                    <p>ç‰¹æ®Šæ¡æ¬¾ï¼šæœ€ç»ˆè§£é‡Šæƒå½’å‘åˆ¸äººæ‰€æœ‰</p>
                </div>

                <button id="redeem-btn" onclick="redeemCoupon()" class="w-full py-3 rounded-xl bg-gray-800 text-white font-bold hover:bg-gray-700 transition-all shadow-lg active:scale-95">
                    ç«‹å³å…‘æ¢
                </button>

                <div id="stamp" class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-32 h-32 border-4 border-love-accent rounded-full flex items-center justify-center opacity-0 pointer-events-none transform scale-150 rotate-[-20deg] transition-all duration-300 z-20 mix-blend-multiply">
                    <div class="w-28 h-28 border-2 border-love-accent rounded-full flex items-center justify-center">
                        <span class="text-love-accent font-black text-xl uppercase transform rotate-[-10deg]">å·²å…‘æ¢<br>REDEEMED</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- çˆ±å¿ƒç‚¹å‡»ç‰¹æ•ˆ ---
        function createHeart(event) {
            const heart = document.createElement('div');
            heart.innerHTML = 'â¤';
            heart.style.position = 'fixed';
            heart.style.left = (event.clientX) + 'px';
            heart.style.top = (event.clientY) + 'px';
            heart.style.color = '#D4878C';
            heart.style.fontSize = '24px';
            heart.style.pointerEvents = 'none';
            heart.style.transform = 'translate(-50%, -50%)';
            heart.style.animation = 'floatUp 1s ease-out forwards';
            heart.style.zIndex = '100'; 
            
            document.body.appendChild(heart);

            // åŠ¨æ€æ·»åŠ åŠ¨ç”»æ ·å¼
            if(!document.getElementById('heart-style')) {
                const style = document.createElement('style');
                style.id = 'heart-style';
                style.innerHTML = `
                    @keyframes floatUp {
                        0% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
                        100% { opacity: 0; transform: translate(-50%, -150px) scale(1.5); }
                    }
                `;
                document.head.appendChild(style);
            }

            setTimeout(() => { heart.remove(); }, 1000);
        }

        // å…¨å±€ç‚¹å‡»ç›‘å¬ (æ’é™¤æŒ‰é’®å’Œå¼¹çª—å†…å®¹)
        document.addEventListener('click', function(e) {
            const isButton = e.target.closest('button');
            const isModalContent = e.target.closest('#letter-content') || e.target.closest('#coupon-content');
            if(!isButton && !isModalContent) {
                createHeart(e);
            }
        });

        // --- æ¨¡æ€æ¡†æ§åˆ¶ ---
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            const overlay = modal.querySelector('div[id$="-overlay"]');
            const content = modal.querySelector('div[id$="-content"]');
            
            modal.classList.remove('hidden');
            setTimeout(() => {
                overlay.classList.remove('opacity-0');
                content.classList.remove('opacity-0', 'scale-95');
                content.classList.add('scale-100');
            }, 10);
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            const overlay = modal.querySelector('div[id$="-overlay"]');
            const content = modal.querySelector('div[id$="-content"]');
            
            overlay.classList.add('opacity-0');
            content.classList.remove('scale-100');
            content.classList.add('opacity-0', 'scale-95');
            
            setTimeout(() => {
                modal.classList.add('hidden');
                if(modalId === 'coupon-modal') resetCoupon();
            }, 300);
        }

        // --- ä¼˜æƒ åˆ¸é€»è¾‘ ---
        function redeemCoupon() {
            const btn = document.getElementById('redeem-btn');
            const stamp = document.getElementById('stamp');
            
            // æŒ‰é’®çŠ¶æ€æ”¹å˜
            btn.innerText = "å…‘æ¢æˆåŠŸï¼";
            btn.className = "w-full py-3 rounded-xl bg-green-500 text-white font-bold shadow-lg cursor-default";
            btn.disabled = true;

            // ç›–ç« åŠ¨ç”»
            stamp.classList.remove('opacity-0', 'scale-150');
            stamp.classList.add('opacity-80', 'scale-100');

            // è§¦å‘æ’’èŠ±
            for(let i=0; i<30; i++) {
                setTimeout(createConfetti, i * 50);
            }
        }

        function resetCoupon() {
            const btn = document.getElementById('redeem-btn');
            const stamp = document.getElementById('stamp');
            
            setTimeout(() => {
                btn.innerText = "ç«‹å³å…‘æ¢";
                btn.className = "w-full py-3 rounded-xl bg-gray-800 text-white font-bold hover:bg-gray-700 transition-all shadow-lg active:scale-95";
                btn.disabled = false;
                
                stamp.classList.add('opacity-0', 'scale-150');
                stamp.classList.remove('opacity-80', 'scale-100');
            }, 300);
        }

        // --- æ’’èŠ±ç‰¹æ•ˆ ---
        function createConfetti() {
            const colors = ['#ECC8C5', '#D4878C', '#F7E7CE', '#FFD700'];
            const confetti = document.createElement('div');
            const content = document.getElementById('coupon-content');
            
            // é˜²æ­¢ content æ‰¾ä¸åˆ°æŠ¥é”™
            if (!content) return;

            const rect = content.getBoundingClientRect();
            
            confetti.style.position = 'fixed';
            confetti.style.left = (rect.left + rect.width / 2) + 'px';
            confetti.style.top = (rect.top + rect.height / 2) + 'px';
            confetti.style.width = '8px';
            confetti.style.height = '8px';
            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            confetti.style.borderRadius = '50%';
            confetti.style.zIndex = '60';
            
            const x = (Math.random() - 0.5) * 300;
            const y = (Math.random() - 0.5) * 300;
            
            confetti.style.transition = 'all 1s ease-out';
            document.body.appendChild(confetti);
            
            // ä¸‹ä¸€å¸§è§¦å‘ä½ç§»
            requestAnimationFrame(() => {
                confetti.style.transform = `translate(${x}px, ${y}px) rotate(${Math.random()*360}deg)`;
                confetti.style.opacity = 0;
            });

            setTimeout(() => confetti.remove(), 1000);
        }
    </script>
</body>
</html>
